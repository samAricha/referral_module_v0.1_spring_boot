<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>My Thymeleaf Template</title>
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/css/style.css}" rel="stylesheet">
    <link th:href = "@{/css/nav_bar.css}" rel="stylesheet">
    <link th:href = "@{/fontawesome/css/all.css}" rel="stylesheet">

    <style>
        .card {
            margin-bottom: 10px;
        }
    </style>

<body>

<div th:replace="fragments/header :: header"></div>
<main style="margin-top: 58px;">
    <div class="container-fluid mt-4 mb-5">
        <h1 class="mb-4">Referral Form</h1>
        <form th:action="@{/physician/referral/refer}" th:object="${referralInfoDto}" method="post" >
            <div class="row">
                <div class="col-sm-6">
                    <!-- Patient information -->
                    <div class="card mb-4">
                        <div class="card-header bg-primary text-white">
                            Patient Information
                        </div>
                        <div class="card-body">
                            <p>Name: <span th:text="${referralInfoDto.patient.person.username}"></span></p>
                            <p>Patient No.: <span th:text="${referralInfoDto.patient.id}"></span></p>
                            <p>Gender: <span th:text="${referralInfoDto.patient.person.gender}"></span></p>
                            <p>Phone Number: +254<span th:text="${referralInfoDto.patient.person.phone}"></span></p>
        <!--                    <p>Address: <span th:text="${patient.address}"></span></p>-->
                        </div>
                    </div>
                </div>
                <div class="col-sm-6">
                    <!-- Hospital information -->
                    <div class="card mb-4">
                        <div class="card-header bg-primary text-white">
                            Hospital Information
                        </div>
                        <div class="card-body">
                            <p>Name: <span th:text="${referralInfoDto.receivingHospital.name}"></span></p>
                            <p>Address: <span th:text="${referralInfoDto.receivingHospital.location.getConstituency_name()}"></span></p>
        <!--                    <p>Phone Number: <span th:text="${hospital.phoneNumber}"></span></p>-->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Referral notes -->
            <div class="card">
                <div class="card-header bg-primary text-white">
                    Referral Notes
                </div>
                <div class="card-body">

                        <div class="form-group">
                            <label for="notes">Notes:</label>
                            <textarea class="form-control" name="notes" id="notes" rows="5" cols="50" th:field="*{physicianNotes}" placeholder="Enter referral notes here"></textarea>
                        </div>
                        <br>

                </div>
            </div>
            <div class="d-flex justify-content-end mt-4">
                <button type="submit" class="btn btn-primary rounded-pill">Submit Referral</button>
            </div>

        </form>

    </div>

    <div th:replace="fragments/footer :: footer"></div>

</main>

</body>
</html>